<!-- üåü CONTAINER CONNEXION (centr√© et sans scroll) -->
<div class="connexion-container fixed inset-0 w-full h-full flex flex-col justify-center items-center overflow-hidden 
            bg-gradient-to-br from-[var(--Black)] via-[var(--Gris)] to-[var(--Black)] 
            dark:from-[var(--Noir)] dark:via-[var(--Gris)] dark:to-[var(--Noir)] 
            transition-colors duration-700">

  <!-- üß© Ic√¥ne / Logo -->
  <app-icon class="mb-6 animate-fade-in z-20"></app-icon>

  <!-- üåÑ Image de fond -->
  <div class="absolute inset-0 flex items-center justify-center overflow-hidden">
    <!-- üåå Image principale -->
    <div class="absolute inset-0 bg-cover bg-center scale-105 blur-[1px] brightness-[0.4] transition-transform duration-700"
         style="background-image: url('/assets/bg1.jpg');"></div>

    <!-- üåë Overlay d√©grad√© -->
    <div class="absolute inset-0 bg-gradient-to-br from-black/80 via-[var(--Black)]/60 to-[var(--Rouge)]/20 backdrop-blur-sm"></div>
  </div>

  <!-- üß© Conteneur principal -->
  <div class="relative z-10 w-full max-w-md sm:max-w-lg px-4 sm:px-6 animate-fade-in-up">

    <!-- ‚úÖ Message de bienvenue -->
    <div *ngIf="message" role="alert" aria-live="polite"
         class="fixed inset-0 z-50 flex items-center justify-center p-4">
      <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" (click)="message = null"></div>
      <div class="relative z-10 w-full max-w-sm p-6 rounded-2xl bg-gradient-to-br from-[var(--hot-red)] to-[var(--orange-red)] 
                  text-white text-center shadow-[0_0_25px_rgba(255,80,80,0.5)] border border-[var(--vivid-pink)]/30 animate-fade-in-up">
        <p class="text-base font-medium">{{ message }}</p>
        <button (click)="message = null"
                class="mt-4 px-4 py-2 bg-white/20 text-white rounded-lg hover:bg-white/40 transition">
          Fermer
        </button>
      </div>
    </div>

    <!-- üß† Formulaire de connexion -->
    <form (ngSubmit)="valider()" #connexionForm="ngForm"
          class="relative -mt-2 bg-white/10 backdrop-blur-2xl rounded-3xl p-6 sm:p-8 shadow-2xl 
                 border border-[var(--Vert-Clair)] space-y-6 transform hover:scale-[1.01] transition-all duration-500 ease-out">

      <!-- üß© Logo / Header -->
      <div class="text-center mb-6 sm:mb-8">
        <div class="w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 bg-gradient-to-br from-[var(--Vert)] to-[var(--Bleu)] rounded-2xl flex items-center justify-center shadow-lg shadow-[var(--bright-blue)]/30">
          <i class="fas fa-user-lock text-2xl sm:text-3xl text-white"></i>
        </div>
        <h2 class="text-3xl sm:text-4xl font-extrabold text-white tracking-tight">Connexion</h2>
        <p class="text-white text-sm mt-2">Acc√©dez √† votre espace personnel</p>
      </div>

      <!-- ‚úâÔ∏è Email -->
      <div class="space-y-2">
        <label for="email" class="block text-sm font-semibold text-white flex items-center">
          <i class="fas fa-envelope mr-2 text-[var(--vivid-pink)]"></i> Adresse e-mail
        </label>
        <input type="email" id="email" name="email" required [(ngModel)]="connexionData.email"
               #email="ngModel" placeholder="Votre e-mail"
               class="w-full px-4 py-3 rounded-xl bg-white/10 text-white placeholder-white/60 
                      border border-white/20 focus:border-[var(--electric-violet)] focus:ring-4 focus:ring-[var(--electric-violet)]/30
                      hover:border-[var(--vivid-pink)]/40 focus:scale-[1.02]
                      transition-all duration-300 text-base" />
      </div>

      <!-- üîí Mot de passe -->
      <div class="space-y-2">
        <label for="password" class="block text-sm font-semibold text-white flex items-center">
          <i class="fas fa-lock mr-2 text-[var(--vivid-pink)]"></i> Mot de passe
        </label>
        <div class="relative">
          <input [type]="passwordVisible ? 'text' : 'password'" id="password" name="password"
                 required minlength="6" [(ngModel)]="connexionData.password"
                 #password="ngModel" placeholder="Votre mot de passe"
                 class="w-full px-4 py-3 pr-10 rounded-xl bg-white/10 text-white placeholder-white/60 
                        border border-white/20 focus:border-[var(--electric-violet)] focus:ring-4 focus:ring-[var(--electric-violet)]/30
                        hover:border-[var(--vivid-pink)]/40 focus:scale-[1.02]
                        transition-all duration-300 text-base" />
          <button type="button" (click)="togglePasswordVisibility()"
                  class="absolute right-3 top-1/2 -translate-y-1/2 text-white/60 hover:text-[var(--vivid-pink)] transition">
            <i class="fas" [ngClass]="passwordVisible ? 'fa-eye-slash' : 'fa-eye'"></i>
          </button>
        </div>
      </div>

      <!-- ‚ö†Ô∏è Erreur serveur -->
      <div *ngIf="errorMessage" role="alert"
           class="bg-[var(--hot-red)]/15 border border-[var(--hot-red)]/40 rounded-xl p-4 text-[var(--orange-red)] text-sm flex items-center animate-fade-in-up">
        <i class="fas fa-exclamation-circle mr-2"></i>
        <span>{{ errorMessage }}</span>
      </div>

      <!-- üöÄ Bouton de soumission -->
      <button type="submit" [disabled]="isLoading"
              class="w-full py-3 rounded-xl font-bold text-white tracking-wide
                     bg-gradient-to-r from-[var(--Vert)] to-[var(--Bleu)] 
                     hover:from-[var(--Vert)] hover:to-[var(--Vert)]
                     active:scale-95 disabled:opacity-60
                     transition-all duration-500 ease-in-out shadow-lg shadow-[var(--bright-blue)]/30">
        <span *ngIf="!isLoading"><i class="fas fa-sign-in-alt mr-2"></i> Se connecter</span>
        <span *ngIf="isLoading"><i class="fas fa-spinner fa-spin mr-2"></i> Connexion...</span>
      </button>

      <!-- üßæ Lien inscription -->
      <div class="text-center mt-8 pt-5 border-t border-[var(--Vert)]">
        <p class="text-white/80 text-sm">
          Pas encore de compte ?
          <a routerLink="/inscription"
             class="inline-block ml-2 px-4 py-2 bg-[var(--Bleu-Fonc√©)]/90 text-white font-semibold rounded-lg 
                    hover:bg-[var(--Vert-Fonc√©)] hover:text-white hover:scale-105 active:scale-95
                    transition-all duration-300">
            Cr√©er un compte
          </a>
        </p>
      </div>

    </form>
  </div>
</div>
